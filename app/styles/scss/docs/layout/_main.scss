@use "sass:map";
@use "settings" as *;

/**
 * Docs: Main
 */

body > {
  main {
    display: grid;
    grid-template-rows: 1fr;
    row-gap: 2rem;

    > * {
      min-width: 0;
      margin-bottom: 0;
    }

    @media (min-width: map.get(map.get($breakpoints, "lg"), "breakpoint")) {
      grid-template-rows: repeat(1, auto);
      grid-template-columns: 10rem 1fr;
      grid-template-areas:
        "menu header"
        "menu body";
      column-gap: 3rem;
      row-gap: 3rem;

      &:has(aside#table-of-contents) {
        grid-template-rows: repeat(3, auto);
        grid-template-columns: 10rem 1fr;
        grid-template-areas:
          "menu header"
          "menu table-of-content"
          "menu body";
      }

      > nav[aria-label="breadcrumb"] {
        display: none;
      }

      > aside {
        grid-area: menu;

        > nav {
          position: sticky;
          top: calc(var(#{$✨}header-height) + 2rem);
        }
      }

      > hgroup {
        grid-area: header;
      }

      > aside#table-of-contents {
        grid-area: table-of-content;
      }

      > [role="document"] {
        grid-area: body;
      }
    }

    @media (min-width: map.get(map.get($breakpoints, "xl"), "breakpoint")) {
      grid-template-rows: repeat(2, auto);
      grid-template-columns: 10rem 1fr;
      grid-template-areas:
        "menu header"
        "menu body";
      row-gap: 4rem;

      &:has(aside#table-of-contents) {
        grid-template-rows: repeat(2, auto);
        grid-template-columns: 10rem 1fr 10rem;
        grid-template-areas:
          "menu header table-of-content"
          "menu body table-of-content";
      }

      > aside {
        grid-area: menu;
      }

      > hgroup {
        grid-area: header;
      }

      > aside#table-of-contents {
        grid-area: table-of-content;
      }

      > [role="document"] {
        grid-area: body;
      }
    }
  }
}

html {
  scroll-padding-top: calc(var(#{$✨}breadcrumb-height) + 1rem);

  @media (min-width: map.get(map.get($breakpoints, "lg"), "breakpoint")) {
    scroll-padding-top: calc(var(#{$✨}header-height) + 2rem - 0.375rem);
  }
}
